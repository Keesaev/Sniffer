name: cmake build

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v3
    # specific for this container
    - run: >
        sudo echo deb http://archive.ubuntu.com/ubuntu/ jammy main restricted >> /etc/apt/sources.list 
        sudo echo deb http://archive.ubuntu.com/ubuntu/ jammy universe >> /etc/apt/sources.list
    - run: sudo apt update -y
    - run: >
        sudo apt install -y 
          cmake 
          libqt5gui5 
          libqt5charts5-dev 
          qtdeclarative5-dev 
          libpcap-dev
    - run: >
        mkdir build
        cd build
        cmake .. 
        make -j5
    
